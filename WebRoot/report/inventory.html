<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>inventory.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

  </head>
  
  <body>
  <a href="${contextPath}/report">返回</a>
    <form action="${contextPath}/report/toInventory" method="post">
    	<fieldset>
    		<legend>查询条件</legend>
    		商品名称：
    		<select name="inventory.goodsid">
    			<option value="0">--全部--</option>
	    		<#list goodsList as goods>
					<option value="${(goods.id)!''}">${(goods.goodsname)!''}</option>
				</#list>
    		</select>
    		入库类型：
    		<select name="inventory.inType">
    			<option value="0">--全部--</option>
				<option value="buy">进货</option>
				<option value="back">退货</option>
				<option value="proback">铺货退货</option>
    		</select>
    		备注：<input type="text" name="inventory.remark"/>
   			从：<input type="text" name="createtimefrom"/>至<input type="text" name="createtimeto"/>
   			入库人：
   			<select name="inventory.createid">
    			<option value="0">--全部--</option>
	    		<#list userList as user>
					<option value="${(user.id)!''}">${(user.realname)!''}</option>
				</#list>
    		</select>
   			<input type="submit" name="ok" value="查询"/>
    	</fieldset>
    </form>
    <table>
    	<tr>
    		<td>编号</td>
    		<td>商品名称</td>
    		<td>入库数量</td>
    		<td>规格型号</td>
    		<td>入库类型</td>
    		<td>备注</td>
    		<td>创建时间</td>
    		<td>创建人</td>
    	</tr>
    	<!-- 切记！！！freemarker需要安全输出，要使用（）！‘’形式判断字段是否为空，否则显示不出来 -->
    	<#assign n = 1/>
    	<#assign sum = 0/>
    	<#list invList as inv>
    		<#if (n != (invList?size))>
    		<tr>
    			<td>${(inv.id)!'空'}</td>
    			<td>${(inv.gname)!'空'}</td>
    			<td>${(inv.gnum)!'空'}</td>
    			<td>${(inv.spec)!'空'}</td>
    			<td>${(inv.type)!'空'}</td>
    			<td>${(inv.remark)!'空'}</td>
    			<td>${(inv.ctime)!'空'}</td>
    			<td>${(inv.rname)!'空'}</td>
    		</tr>
    		<#assign n = n + 1/>
    		<#assign sum = sum + inv.gnum/>
    		<#else>
    		<tr>
    			<td>合计</td>
    			<td></td>
    			<td style="color:red;">${sum}</td>
    			<td>斤</td>
    			<td></td>
    			<td></td>
    			<td></td>
    			<td></td>
    		</tr>
    		</#if>
    	</#list>
    </table>
  </body>
</html>
